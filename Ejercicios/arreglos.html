<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manejo de arreglos y objetos</title>
    <link rel="stylesheet" href="../CSS/estilo.css">
</head>
<body>

    <a href="../index.html" class="btn-regresar">⬅ Regresar al inicio</a>
    <h1>Manejo de arreglos y objetos en JavaScript</h1>

    <!-- Ejemplo 1 -->

<section class="ejercicio">
  <!-- Descripción -->
  <h2>Iteracion sobre arreglos</h2>
  <p class="descripcion">
Una técnica fundamental en el manejo de arreglos es la iteración. Veamos un ejemplo usando un bucle for:</p>
  <!-- Contenido -->

  <div class="contenido">
    <!-- Imagen del código -->
    <div class="codigo-img">
      <img src="../Imagenes/arreglos1.PNG" alt="Código del ejercicio">
    </div>
  <!-- Ejecución -->
    <div class="codigo-ejecucion">
      <!-- Aquí pegas tu código en vivo -->
       <h2>Funcionamiento de codigo</h2>
       <script>
        const frutas = ["manzana", "banana", "naranja", "uva"];
        for (let i = 0; i < frutas.length; i++) {
          document.write("<p id='resultado'>"+ frutas[i] +"</p>");
        }
       </script>
  </div>
</section>

    <!-- Ejemplo 2 -->

<section class="ejercicio">
  <!-- Descripción -->
  <h2>Metodo de arreglos Map</h2>
  <p class="descripcion">
El método map <b>crea un nuevo arreglo</b> con los resultados de llamar a una función para cada elemento. Por ejemplo:  </p>
  <!-- Contenido -->

  <div class="contenido">
    <!-- Imagen del código -->
    <div class="codigo-img">
      <img src="../Imagenes/arreglos2.PNG" alt="Código del ejercicio">
    </div>
  <!-- Ejecución -->
    <div class="codigo-ejecucion">
      <!-- Aquí pegas tu código en vivo -->
       <h2>Funcionamiento de codigo</h2>
       <script>
        const numeros = [1, 2, 3, 4, 5];
        const numerosDuplicados = numeros.map(num => num * 2);
        document.write("Números duplicados: ");
        document.write("<p id='resultado'>"+ numerosDuplicados +"</p>");
       </script>
  </div>
</section>

    <!-- Ejemplo 3 -->

<section class="ejercicio">
  <!-- Descripción -->
  <h2>Metodo de arreglos Filter</h2>
  <p class="descripcion">
El método filter <b>crea un nuevo arreglo</b> con todos los elementos que cumplan la condición implementada por la función dada. Por ejemplo:  </p>
  <!-- Contenido -->

  <div class="contenido">
    <!-- Imagen del código -->
    <div class="codigo-img">
      <img src="../Imagenes/arreglos3.PNG" alt="Código del ejercicio">
    </div>
  <!-- Ejecución -->
    <div class="codigo-ejecucion">
      <!-- Aquí pegas tu código en vivo -->
       <h2>Funcionamiento de codigo</h2>
       <script>
        const numeros1 = [1, 2, 3, 4, 5];
        const numerosFiltrados = numeros.filter(num => num > 2);
        document.write("Números filtrados: ");
        document.write("<p id='resultado'>"+ numerosFiltrados +"</p>");
       </script>
  </div>
</section>

    <!-- Ejemplo 3 -->

<section class="ejercicio">
  <!-- Descripción -->
  <h2>Metodo de arreglos Reduce</h2>
  <p class="descripcion">
    El método reduce <b>aplica una función a un acumulador y a cada valor de la matriz (de izquierda a derecha)</b> para reducirlo a un solo valor. Por ejemplo:
 </p>
 <p>
     <div class="instrucciones"><code><pre>
    arr.reduce((acumulador, valorActual) => {
      return acumulador + valorActual;
    }, valorinicial);
    </pre></code></div>
 </p><br>
 <p>
    En <code>reduce()</code>, el primer parámetro de la función es siempre el acumulador, que mantiene el valor total hasta ese punto, mientras que el segundo parámetro es el valor actual del arreglo en la iteración. Lo que haces con esos valores depende de la operación que quieras realizar.
 </p><br><br>
  <!-- Contenido -->

  <div class="contenido">
    <!-- Imagen del código -->
    <div class="codigo-img">
      <img src="../Imagenes/arreglos4.PNG" alt="Código del ejercicio">
    </div>
  <!-- Ejecución -->
    <div class="codigo-ejecucion">
      <!-- Aquí pegas tu código en vivo -->
       <h2>Funcionamiento de codigo</h2>
       <script>
        const suma = numeros.reduce((total, num) => 
        total + num, 0);
        document.write("<p id='resultado'>"+ suma +"</p>");
       </script>
  </div>
</section>

    <!-- Ejercicio 1 -->

<section class="ejercicio">
  <!-- Descripción -->
  <h2>Encontrar el numero mayor</h2>
  <p class="descripcion">
    Veamos un ejercicio resuelto para encontrar el mayor número en un arreglo: 
  </p>
  <!-- Contenido -->

  <div class="contenido">
    <!-- Imagen del código -->
    <div class="codigo-img">
      <img src="../Imagenes/arreglosejercicio1.PNG" alt="Código del ejercicio">
    </div>
  <!-- Ejecución -->
    <div class="codigo-ejecucion">
      <!-- Aquí pegas tu código en vivo -->
       <h2>Funcionamiento de codigo</h2>
       <script>
        function encontrarMayor(arr) {
          return arr.reduce((max, num) => (num > max ? num : max), arr[0]);
        }

        const numeros2 = [10,5,8,20,15];
        document.write("<p id='resultado'>"+ encontrarMayor(numeros2) +"</p>"); // Salida: 20
       </script>
  </div>
  <div class="codigo-ejecucion">
    <h2>Probar codigo</h2>
    <input type="number" id="num1" placeholder="Número 1">
    <input type="number" id="num2" placeholder="Número 2">
    <input type="number" id="num3" placeholder="Número 3">
    <input type="number" id="num4" placeholder="Número 4">
    <input type="number" id="num5" placeholder="Número 5">
    <button onclick="probarCodigo()">buscar mayor</button>
    <script>
      function probarCodigo() {
        const num1 = parseInt(document.getElementById('num1').value);
        const num2 = parseInt(document.getElementById('num2').value);
        const num3 = parseInt(document.getElementById('num3').value);
        const num4 = parseInt(document.getElementById('num4').value);
        const num5 = parseInt(document.getElementById('num5').value);
        const numeros = [num1, num2, num3, num4, num5];
        const mayor = encontrarMayor(numeros);
        alert("El número mayor es: " + mayor);
      }
    </script>
  </div>
</section>

<!-- Ejercicio 2 -->
<section class="ejercicio">
    <h2>Creacion y acceso propiedades de objetos</h2>
    <p class="descripcion">
      Los objetos en JavaScript son estructuras que permiten almacenar datos en pares clave-valor. Veamos un ejemplo:
    </p>
    <!-- Contenido -->

    <div class="contenido">
      <!-- Imagen del código -->
      <div class="codigo-img">
        <img src="../Imagenes/arreglosejercicio2.PNG" alt="Código del ejercicio">
      </div>
      <!-- Ejecución -->
      <div class="codigo-ejecucion">
        <!-- Aquí pegas tu código en vivo -->
        <h2>Funcionamiento de codigo</h2>
        <script>
          const persona = {nombre:"Juan", edad: 30,ciudad:"Madrid"};
          document.write("<p id='resultado'>"+ persona.nombre +"</p>");
          // Juan
          document.write("<p id='resultado'>"+ persona["edad"] +"</p>");
          // 30
        </script>
      </div>
    </div>
</section>

<!-- iteracion sobre propiedades de objetos -->
<section class="ejercicio">
    <h2>Iteración sobre propiedades de objetos</h2>
    <p class="descripcion">
      Para recorrer las propiedades de un objeto, podemos usar un bucle for...in:
    </p>
    <!-- Contenido -->

    <div class="contenido">
      <!-- Imagen del código -->
      <div class="codigo-img">
        <img src="../Imagenes/arreglosejercicio3.PNG" alt="Código del ejercicio">
      </div>
      <!-- Ejecución -->
      <div class="codigo-ejecucion">
        <!-- Aquí pegas tu código en vivo -->
        <h2>Funcionamiento de codigo</h2>
        <script>
          const libro = {titulo:"El principito",autor:"Antoine de Saint-Exupéry",año: 1943};
          for (let propiedad in libro) {
            document.write("<p id='resultado'>"+ `${propiedad}: ${libro[propiedad]}` +"</p>");
          }
          // Salida:
          // titulo: El principito
          // autor: Antoine de Saint-Exupéry
          // año: 1943
        </script>
      </div>
    </div>
</section>

<!-- Contar propiedades de un objeto -->
<section class="ejercicio">
    <h2>Contar propiedades de un objeto</h2>
    <p class="descripcion">
      Para contar las propiedades de un objeto, podemos usar la función Object.keys():
    </p>
    <!-- Contenido -->

    <div class="contenido">
      <!-- Imagen del código -->
      <div class="codigo-img">
        <img src="../Imagenes/arreglosejercicio4.PNG" alt="Código del ejercicio">
      </div>
      <!-- Ejecución -->
      <div class="codigo-ejecucion">
        <!-- Aquí pegas tu código en vivo -->
        <h2>Funcionamiento de codigo</h2>
        <script>
          function contarPropiedades(obj){
          return Object.keys(obj).length;
          }

          const coche = {marca:"Toyota",modelo:"Corolla",
          año:2020};
          document.write("<p id='resultado'>Número de propiedades del objeto coche: </p>");
          document.write("<p id='resultado'>"+ contarPropiedades(coche) +"</p>");
          // 3
        </script>
      </div>
    </div>
</section>

<!-- transformacion de arreglos de objetos -->
<section class="ejercicio">
    <h2>Transformación de arreglos de objetos</h2>
    <p class="descripcion">
      Para transformar un arreglo de objetos, podemos usar el método map():
    </p>
    <!-- Contenido -->

    <div class="contenido">
      <!-- Imagen del código -->
      <div class="codigo-img">
        <img src="../Imagenes/arreglosejercicio5.PNG" alt="Código del ejercicio">
      </div>
      <!-- Ejecución -->
      <div class="codigo-ejecucion">
        <!-- Aquí pegas tu código en vivo -->
        <h2>Funcionamiento de codigo</h2>
        <script>
          const usuarios = [{nombre:"Ana",edad:25}, {nombre:"Luis",edad:30 },{nombre:"María",edad:28}];
          function obtenerNombres(arr) {
          return arr.map(usuario => usuario.nombre);
          }
          document.write("<p id='resultado'>"+ obtenerNombres(usuarios) +"</p>");
          // ["Ana", "Luis", "María"]
        </script>
      </div>
    </div>
</section>

<!-- filtrado de arreglos de objetos -->
<section class="ejercicio">
    <h2>Filtrado de arreglos de objetos</h2>
    <p class="descripcion">
      Para filtrar un arreglo de objetos, podemos usar el método filter():
    </p>
    <!-- Contenido -->

    <div class="contenido">
      <!-- Imagen del código -->
      <div class="codigo-img">
        <img src="../Imagenes/arreglosejercicio6.PNG" alt="Código del ejercicio">
      </div>
      <!-- Ejecución -->
      <div class="codigo-ejecucion">
        <!-- Aquí pegas tu código en vivo -->
        <h2>Funcionamiento de codigo</h2>
        <script>
            const usuarios2 = [{nombre:"Ana",edad:25}, {nombre:"Luis",edad:30 },{nombre:"María",edad:28}];

            function filtrarUsuarios(arr) {
            return arr.filter(usuario => usuario.edad > 24);
            }
            document.write("<p id='resultado'>"+ JSON.stringify(filtrarUsuarios(usuarios2))  +"</p>");
        </script>
      </div>
    </div>
</section>

<!-- Agrupacion por propiedad -->
<section class="ejercicio">
    <h2>Agrupación por propiedad</h2>
    <p class="descripcion">
      Para agrupar un arreglo de objetos por una propiedad, podemos usar el método reduce():
    </p>
    <pre>
      <code>
            function agruparPorCategoria(arr) {
              return arr.reduce((grupo, producto) => {
              const categoria = producto.categoria;
              if (!grupo[categoria]) {
              grupo[categoria] = [];
              }
              grupo[categoria].push(producto);
              return grupo;
              }, {});
              }
      </code>
    </pre>
    <!-- Contenido -->

    <div class="contenido">
      <!-- Imagen del código -->
      <div class="codigo-img">
        <img src="../Imagenes/arreglosejercicio7.PNG" alt="Código del ejercicio">
      </div>
      <!-- Ejecución -->
      <div class="codigo-ejecucion">
        <!-- Aquí pegas tu código en vivo -->
        <h2>Funcionamiento de codigo</h2>
        <script>
            const productos = [{ nombre: "camiseta", categoria: "ropa" },{ nombre: "pantalón", categoria: "ropa" },{ nombre: "zapatos", categoria:
            "calzado" },{nombre: "sandalias", categoria: "calzado" }];
            document.write("<p id='resultado'>"+ JSON.stringify(agruparPorCategoria(productos)) +"</p>");
            // {
            // ropa: [{ nombre: "camiseta", categoria: "ropa" }, { nombre: "pantalón", categoria: "ropa" }],
            // calzado: [{ nombre: "zapatos", categoria: "calzado" }, { nombre: "sandalias", categoria: "calzado" }]
            // }

            function agruparPorCategoria(productos) {
              return productos.reduce((acc, producto) => {
                const { categoria } = producto;
                if (!acc[categoria]) {
                  acc[categoria] = [];
                }
                acc[categoria].push(producto);
                return acc;
              }, {});
            }
        </script>
      </div>
    </div>
</section>
</body>
<script>
            for (let img of document.getElementsByClassName('codigo-img')) {
            img.addEventListener('click', (e) => {
                console.log("Clic en:", e.target);
                e.target.requestFullscreen();
            });
          }
</script>
</html>